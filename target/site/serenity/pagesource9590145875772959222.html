<html lang='en'><head><link href='prism/prism.css' rel='stylesheet' /></head><body><script src='prism/prism.js'></script><body><div><pre><code class='language-html'>&lt;html lang="en-us"&gt;<br/>
 &lt;head&gt;<br/>
  &lt;meta charset="utf-8"&gt;&lt;!--&lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;--&gt;<br/>
  &lt;title&gt;Ingreso - Kinpos CSI  &lt;/title&gt;<br/>
  &lt;meta name="description" content="Login para KinPOS CSI"&gt;<br/>
  &lt;meta name="author" content="Kinpos Corporation"&gt;&lt;!-- Use the correct meta names below for your web application<br/>
             Ref: https://davidbcalhoun.com/2010/viewport-metatag<br/>
<br/>
    &lt;meta name="HandheldFriendly" content="True"&gt;<br/>
    &lt;meta name="MobileOptimized" content="320"&gt;--&gt;<br/>
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;&lt;!-- GOOGLE FONTS --&gt; &lt;!-- FAVICONS --&gt;<br/>
  &lt;link href="/Templates/master/images/BrowerIcon.ico" rel="shortcut icon" type="image/x-icon"&gt;<br/>
  &lt;script src="/Templates/js/plugin/cryptojs/rollups/aes.js"&gt;&lt;/script&gt;&lt;!-- KINPOS Style--&gt;<br/>
  &lt;link href="/Templates/Kinpos/css/Responsive-Kinpos.css" media="screen" rel="stylesheet" type="text/css"&gt;<br/>
  &lt;link href="/Templates/Kinpos/css/CustomStyle.css" media="screen" rel="stylesheet" type="text/css"&gt;&lt;!-- Styles theme Login--&gt;<br/>
  &lt;link href="/Templates/themes/Banistmo-OCT-2023/css/login.css" media="screen" rel="stylesheet" type="text/css"&gt;&lt;!-- FIN Kinpos Style --&gt; &lt;!-- Bootstrap core CSS --&gt;<br/>
  &lt;link href="/Templates/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css"&gt;&lt;!-- Font Awesome --&gt;<br/>
  &lt;link href="/Templates/Endless/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css"&gt;&lt;!-- Gritter --&gt;<br/>
  &lt;link href="/Templates/Endless/css/gritter/jquery.gritter.css" media="screen" rel="stylesheet" type="text/css"&gt;&lt;!-- Endless --&gt;<br/>
  &lt;link rel="stylesheet" type="text/css" media="screen" href="/Templates/Endless/css/endless.min.css"&gt;<br/>
  &lt;style type="text/css"&gt;.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}&lt;/style&gt;<br/>
 &lt;/head&gt;<br/>
 &lt;body id="login-img" class="body-login RespLog animated fadeInDown desktop-detected" style="background-image: url(&quot;/Templates/themes/Banistmo-OCT-2023/images/Login/shutterstock_289273250%20Imagen%20HOME%20web.jpg&quot;);"&gt;<br/>
  &lt;script type="text/javascript"&gt;<br/>
        _TokenHeaderValue = 'JKV5ftRcTNV6EafGIS/xa2kxE9NGOTefubwzyY291PMvENYxY5Cdy+RHlrEgy54BaZwsdRsmwQEo1wa6cHlWWQRG5XkmB4YS7HEOjv9t9cFl2EyMtMzD41z/1jvCAgoRp9FZuuRiWUyNVoHT4yl+81TzBdzmodeccim865G9AyVg';<br/>
        var EP = "";<br/>
        var defaultLanguage = "es-es";<br/>
    &lt;/script&gt;<br/>
  &lt;div class="login-wrapper"&gt;<br/>
   &lt;div class="text-center"&gt;&lt;img src="/Templates/themes/Banistmo-OCT-2023/images/Logo/logo.png" alt="KinPOS" style="max-width:300px"&gt;<br/>
   &lt;/div&gt;<br/>
   &lt;div class="animation-delay1 login-widget"&gt;<br/>
    &lt;div class="panel-KinposDefault"&gt;<br/>
     &lt;div class="panel-heading clearfix"&gt;<br/>
     &lt;/div&gt;<br/>
     &lt;form action="/Login/Authenticate" data-ajax="true" data-ajax-begin="Login_OnBegin" data-ajax-method="Post" data-ajax-success="LoginOnSuccess" id="loginForm" method="post" autocomplete="off" novalidate&gt;<br/>
      &lt;input name="__RequestVerificationToken" type="hidden" value="7-K3umZlcdm1kv086XQJ3LWwLCpmpOhdrFbeg5UobZkCoAHsvxhYvyKJjvRHR7p16nTagOdYUOhbfmzzH37E1Jlx_S1bWlLBldTyPEhu8ps1"&gt;<br/>
      &lt;div&gt;<br/>
       &lt;div class="panel-body"&gt;<br/>
        &lt;div class="form-login"&gt;<br/>
         &lt;div class="form-group bounceIn animation-delay2"&gt;&lt;label&gt;Idioma &lt;/label&gt; &lt;label&gt;<br/>
           &lt;div class="select2-container" id="s2id_cboLanguage" style="width: 280px;"&gt;<br/>
            &lt;a href="javascript:void(0)" class="select2-choice" tabindex="-1"&gt; &lt;span class="select2-chosen" id="select2-chosen-1"&gt;Español &lt;/span&gt;&lt;abbr class="select2-search-choice-close"&gt;&lt;/abbr&gt; &lt;span class="select2-arrow" role="presentation"&gt;&lt;b role="presentation"&gt;&lt;/b&gt;&lt;/span&gt;&lt;/a&gt;&lt;label for="s2id_autogen1" class="select2-offscreen"&gt;&lt;/label&gt;&lt;input class="select2-focusser select2-offscreen" type="text" aria-haspopup="true" role="button" aria-labelledby="select2-chosen-1" id="s2id_autogen1"&gt;<br/>
            &lt;div class="select2-drop select2-display-none select2-with-searchbox"&gt;<br/>
             &lt;div class="select2-search"&gt;&lt;label for="s2id_autogen1_search" class="select2-offscreen"&gt;&lt;/label&gt; &lt;input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input" role="combobox" aria-expanded="true" aria-autocomplete="list" aria-owns="select2-results-1" id="s2id_autogen1_search" placeholder=""&gt;<br/>
             &lt;/div&gt;<br/>
             &lt;ul class="select2-results" role="listbox" id="select2-results-1"&gt;<br/>
             &lt;/ul&gt;<br/>
            &lt;/div&gt;<br/>
           &lt;/div&gt;&lt;select id="cboLanguage" name="Language" style="width: 280px;" tabindex="-1" title="" class="select2-offscreen"&gt; &lt;option value="es-ni" id="espanol_Nic"&gt;Español (local)&lt;/option&gt; &lt;option value="es-es" id="espanol"&gt;Español &lt;/option&gt; &lt;option value="en-us" id="ingles"&gt;Inglés&lt;/option&gt; &lt;/select&gt; &lt;/label&gt; &lt;input style="display:none"&gt; &lt;input type="password" style="display:none"&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div class="form-group"&gt;<br/>
          &lt;div class="input-group bounceIn animation-delay3"&gt;&lt;span class="input-group-addon"&gt;&lt;i class="icon-append fa fa-user"&gt;&lt;/i&gt;&lt;/span&gt; &lt;input type="text" id="txtUsername" name="Username" placeholder="Usuario" class="form-control input-sm @*bounceIn animation-delay2*@"&gt;<br/>
          &lt;/div&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div class="form-group"&gt;<br/>
          &lt;div class="input-group bounceIn animation-delay4"&gt;&lt;span class="input-group-addon"&gt;&lt;i class="icon-append fa fa-lock"&gt;&lt;/i&gt;&lt;/span&gt; &lt;input type="password" id="LoginAcess" name="Password" placeholder="Clave" class="form-control input-sm"&gt;<br/>
          &lt;/div&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div class="form-group"&gt;<br/>
          &lt;div id="divCaptchap" hidden class="form-group"&gt;<br/>
           &lt;div id="captchaSection" class="form-group" style="display: none;"&gt;&lt;label&gt;Código de Seguridad &lt;/label&gt; &lt;img id="imgCaptcha" alt="Captcha" src="/Temp/Captcha/lon2mm0rmhdjkjletz22j2aq.png?t=638681463232785431" onclick="LoadCaptcha()"&gt;<br/>
           &lt;/div&gt;<br/>
           &lt;div id="captchaSection2" class="form-group" style="display: none;"&gt;<br/>
            &lt;div class="input-group"&gt;&lt;span class="input-group-addon"&gt;&lt;i class="icon-append fa  fa-key"&gt;&lt;/i&gt;&lt;/span&gt; &lt;input type="text" class="form-control" name="SecurityCode" placeholder="Escribe el código de la imagen"&gt;<br/>
            &lt;/div&gt;<br/>
           &lt;/div&gt;<br/>
          &lt;/div&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div class="seperator"&gt;&lt;/div&gt;<br/>
         &lt;div hidden id="TerminalSection" class="form-group"&gt;<br/>
          &lt;div class="input-group"&gt;&lt;span class="input-group-addon"&gt;&lt;i class="icon-append fa fa-calculator"&gt;&lt;/i&gt;&lt;/span&gt; &lt;input type="text" name="TerminalId" placeholder="Terminal" class="form-control"&gt;<br/>
          &lt;/div&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div hidden id="AdditionalValSection" class="form-group"&gt;<br/>
          &lt;div class="input-group"&gt;&lt;span class="input-group-addon"&gt;&lt;i class="icon-append fa fa-lock"&gt;&lt;/i&gt;&lt;/span&gt; &lt;input type="text" name="OtpCode" maxlength="6" placeholder="Indique el código de 6 digitos" class="form-control"&gt;<br/>
          &lt;/div&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div hidden id="TmpAdditionalValSection" class="form-group"&gt;<br/>
          &lt;div class="input-group"&gt;&lt;span class="input-group-addon"&gt;&lt;i class="icon-append fa fa-lock"&gt;&lt;/i&gt;&lt;/span&gt; &lt;input type="text" name="TmpOtpCode" maxlength="6" placeholder="Indique el código de 6 digitos" class="form-control"&gt;<br/>
          &lt;/div&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div class="form-group"&gt;&lt;a href="/Login/NeedHelp" class="elements"&gt; &lt;span&gt;¿Olvido usuario o contraseña?&lt;/span&gt; &lt;/a&gt;<br/>
         &lt;/div&gt;<br/>
         &lt;div id="TmpAdditionalValMsg" class="form-group" hidden&gt;&lt;a href="javascript:GetOtpTempCode();" class="elements"&gt; &lt;span&gt;Recibir un código temporal?&lt;/span&gt; &lt;/a&gt;<br/>
         &lt;/div&gt;&lt;button type="button" class="btn btn-success btn-sm bounceIn animation-delay5 login-link pull-right" id="btnLogin"&gt; Entrar &lt;i class="fa fa-sign-in"&gt;&lt;/i&gt; &lt;/button&gt;<br/>
        &lt;/div&gt;<br/>
       &lt;/div&gt;<br/>
      &lt;/div&gt;<br/>
     &lt;/form&gt;<br/>
    &lt;/div&gt;<br/>
   &lt;/div&gt;<br/>
   &lt;div class="push"&gt;&lt;/div&gt;<br/>
  &lt;/div&gt;<br/>
  &lt;footer class="bounceIn animation-delay7"&gt;<br/>
   &lt;div class="Power-by"&gt;<br/>
    KinPOS CSI Ver. 4.12.4.1214 Build 019.059 - Powered By:&lt;a href="http://kinpos.com" target="_blank"&gt; &lt;img src="/Templates/master/General/PoweredBy1.png" alt="KinPOS" width="50"&gt; &lt;/a&gt;<br/>
   &lt;/div&gt;<br/>
  &lt;/footer&gt;&lt;!-- Modal --&gt;<br/>
  &lt;div class="modal fade" id="mdChangePassword" tabindex="-1" role="dialog" aria-labelledby="ChangePasswordLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"&gt;<br/>
   &lt;div class="modal-dialog"&gt;<br/>
    &lt;div class="modal-content"&gt;<br/>
     &lt;div class="modal-header"&gt;&lt;button type="button" class="close" data-dismiss="modal" aria-hidden="true"&gt; × &lt;/button&gt;<br/>
      &lt;h4 class="modal-title" id="ChangePasswordLabel"&gt;Cambio de contraseña&lt;/h4&gt;<br/>
     &lt;/div&gt;<br/>
     &lt;div class="modal-body"&gt;<br/>
      &lt;div class="row"&gt;<br/>
       &lt;div class="col-md-6"&gt;<br/>
        &lt;div class="form-group"&gt;&lt;label for="txtNewPassword"&gt; Nueva contraseña &lt;/label&gt; &lt;input type="password" class="form-control" id="txtNewPassword" placeholder="Nueva contraseña"&gt;<br/>
        &lt;/div&gt;<br/>
       &lt;/div&gt;<br/>
       &lt;div class="col-md-6"&gt;<br/>
        &lt;div class="form-group"&gt;&lt;label for="txtPasswordValidate"&gt; Confirmar contraseña &lt;/label&gt; &lt;input type="password" class="form-control" id="txtPasswordValidate" placeholder="Confirmar contraseña"&gt;<br/>
        &lt;/div&gt;<br/>
       &lt;/div&gt;<br/>
      &lt;/div&gt;<br/>
     &lt;/div&gt;<br/>
     &lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-primary" id="btnSaveNewPassword"&gt; Guardar &lt;/button&gt;<br/>
     &lt;/div&gt;<br/>
    &lt;/div&gt;&lt;!-- /.modal-content --&gt;<br/>
   &lt;/div&gt;&lt;!-- /.modal-dialog --&gt;<br/>
  &lt;/div&gt;&lt;!-- /.modal --&gt; &lt;!--================================================== --&gt;<br/>
  &lt;script src="/Templates/js/libs/jquery-3.7.1.min.js"&gt;&lt;/script&gt;<br/>
  &lt;script src="/Templates/js/libs/jquery-ui-1.13.2.min.js"&gt;&lt;/script&gt;&lt;!-- IMPORTANT: APP CONFIG --&gt;<br/>
  &lt;script src="/Templates/js/app.config.js"&gt;&lt;/script&gt;<br/>
  &lt;script src="/Templates/js/bootstrap/bootstrap.min.js"&gt;&lt;/script&gt;&lt;!-- Gritter  Endless Notifications --&gt;<br/>
  &lt;script src="/Templates/Endless/js/jquery.gritter.min.js"&gt;&lt;/script&gt;&lt;!-- CUSTOM NOTIFICATION --&gt;<br/>
  &lt;script src="/Templates/js/notification/SmartNotification.min.js"&gt;&lt;/script&gt;&lt;!-- JARVIS WIDGETS --&gt;<br/>
  &lt;script src="/Templates/js/smartwidgets/jarvis.widget.min.js"&gt;&lt;/script&gt;&lt;!-- EASY PIE CHARTS --&gt;<br/>
  &lt;script src="/Templates/js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js"&gt;&lt;/script&gt;&lt;!-- SPARKLINES --&gt;<br/>
  &lt;script src="/Templates/js/plugin/sparkline/jquery.sparkline.min.js"&gt;&lt;/script&gt;&lt;!-- JQUERY VALIDATE --&gt;<br/>
  &lt;script src="/Templates/js/plugin/jquery-validate/jquery.validate.min.js"&gt;&lt;/script&gt;&lt;!-- JQUERY MASKED INPUT --&gt;<br/>
  &lt;script src="/Templates/js/plugin/masked-input/jquery.maskedinput.min.js"&gt;&lt;/script&gt;&lt;!-- JQUERY SELECT2 INPUT --&gt;<br/>
  &lt;script src="/Templates/js/plugin/select2/select2.min.js"&gt;&lt;/script&gt;&lt;!-- JQUERY UI + Bootstrap Slider --&gt;<br/>
  &lt;script src="/Templates/js/plugin/bootstrap-slider/bootstrap-slider.min.js"&gt;&lt;/script&gt;&lt;!-- browser msie issue fix --&gt;<br/>
  &lt;script src="/Templates/js/plugin/msie-fix/jquery.mb.browser.min.js"&gt;&lt;/script&gt;&lt;!-- SmartClick: For mobile devices --&gt;<br/>
  &lt;script src="/Templates/js/plugin/fastclick/fastclick.min.js"&gt;&lt;/script&gt;&lt;!-- MAIN APP JS FILE --&gt;<br/>
  &lt;script src="/Templates/js/app.min.js"&gt;&lt;/script&gt;<br/>
  &lt;script src="/Templates/js/jquery.unobtrusive-ajax.js"&gt;&lt;/script&gt;<br/>
  &lt;script type="text/javascript"&gt;<br/>
        var _TokenHeaderValue = '';<br/>
        var _TmpData = '';<br/>
<br/>
        function LoginOnSuccess(data) {<br/>
            if (data.status == "error") {<br/>
                var text = 'Entrar';<br/>
                $("#btnLogin").text(text).prop("disabled", false);<br/>
                $("#LoginAcess").val(_TmpData);<br/>
                LoadCaptcha();<br/>
                if (data.go) {<br/>
                    $("#TmpAdditionalValSection").removeAttr("hidden");<br/>
                }<br/>
                if (data.da) {<br/>
                    $("#AdditionalValSection").removeAttr("hidden");<br/>
                    $("#TmpAdditionalValMsg").removeAttr("hidden");<br/>
                }<br/>
                if (data.userVerificationMessageTitle != "vPOS") {<br/>
                    $.gritter.add({<br/>
                        title: '&lt;i class="fa fa-warning"&gt;&lt;/i&gt;' + data.userVerificationMessageTitle,<br/>
                        text: data.userVerificationMessageDescription,<br/>
                        sticky: false,<br/>
                        time: '6000',<br/>
                        class_name: 'gritter-warning'<br/>
                    });<br/>
                }<br/>
                else {<br/>
                    $("#TerminalSection").removeAttr("hidden");<br/>
                }<br/>
            } else if (data.status == "pr") {<br/>
                LoadCaptcha();<br/>
                $("#LoginAcess").val("");<br/>
                _TmpData = '';<br/>
                $("#mdChangePassword").modal('show');<br/>
                <br/>
            } else {<br/>
                if (data.url !== undefined) {<br/>
                    $.gritter.add({<br/>
                        title: '&lt;i class="fa fa-warning"&gt;&lt;/i&gt;' + data.message,<br/>
                        text: data.message,<br/>
                        sticky: false,<br/>
                        time: '1000000',<br/>
                        class_name: 'gritter-warning'<br/>
                    });<br/>
                     window.location.replace(data.url);<br/>
                } else {<br/>
                     _TmpData = '';<br/>
                var url = '/';<br/>
                window.location.replace(url);<br/>
                }<br/>
<br/>
            }<br/>
        }<br/>
<br/>
        function Login_OnBegin() {<br/>
            var text = 'Autenticando ...  ';<br/>
            $("#btnLogin").text(text).prop("disabled", true);<br/>
        }<br/>
<br/>
         function parseWidthHeight(i) {<br/>
            let sb = [];<br/>
<br/>
            if (!isNullOrWhitespace(i)) {<br/>
                let c = null;<br/>
                let iArLe = 0;<br/>
<br/>
                let iAr = i.split('');<br/>
<br/>
                const i1 = iAr[0];<br/>
                const i1As = funcasc(i1);<br/>
                let t = 6;<br/>
                let f = 1;<br/>
<br/>
                while (f &gt; 0) {<br/>
                    f = i1As % t;<br/>
                    t--;<br/>
                }<br/>
<br/>
                sb.push(i1);<br/>
<br/>
                switch (t) {<br/>
                    case 1:<br/>
                        i = i.substring(1, i.length);<br/>
                        iAr = i.toUpperCase().split('');<br/>
<br/>
                        iAr.reverse();<br/>
                        iAr.unshift(i1);<br/>
<br/>
                        iArLe = iAr.length;<br/>
<br/>
                        for (let r = 1; r &lt; iArLe; r++) {<br/>
                            if (r % 2 &gt; 0)<br/>
                                c = iAr[r];<br/>
                            else<br/>
                                sb.push(funcchr(funchex2i(c + '' + iAr[r]) - i1As - 1));<br/>
                        }<br/>
<br/>
                        break;<br/>
                    case 2:<br/>
                        c = '';<br/>
                        iArLe = iAr.length;<br/>
<br/>
                        for (let r = 1; r &lt; iArLe; r += 2) {<br/>
                            if ((r + 1) % 4 &gt; 0)<br/>
                                c = funcchr(funchex2i((iAr[r] + '' + iAr[r + 1]).toUpperCase())).toString();<br/>
                            else {<br/>
                                sb.push(funcchr(funchex2i((iAr[r] + '' + iAr[r + 1]).toUpperCase())).toString() + c);<br/>
                                c = '';<br/>
                            }<br/>
                        }<br/>
<br/>
                        if (c.length &gt; 0)<br/>
                            sb.push(c);<br/>
<br/>
                        break;<br/>
                    case 3:<br/>
                        i = i.substring(1, i.length);<br/>
                        iAr = i.toUpperCase().split('');<br/>
<br/>
                        iAr.reverse();<br/>
                        iAr.unshift(i1);<br/>
<br/>
                        iArLe = iAr.length;<br/>
<br/>
                        for (let r = 1; r &lt; iArLe; r++) {<br/>
                            if (r % 2 &gt; 0)<br/>
                                c = iAr[r];<br/>
                            else<br/>
                                sb.push(funcchr(funchex2i(c + '' + iAr[r]) - i1As - 3));<br/>
                        }<br/>
<br/>
                        break;<br/>
                    case 4:<br/>
                        c = '';<br/>
                        iArLe = iAr.length;<br/>
<br/>
                        for (let r = 1; r &lt; iArLe; r += 2) {<br/>
                            if ((r + 1) % 8 &gt; 0)<br/>
                                c = funcchr(funchex2i((iAr[r] + '' + iAr[r + 1]).toUpperCase())).toString() + '' + c;<br/>
                            else {<br/>
                                sb.push(funcchr(funchex2i((iAr[r] + '' + iAr[r + 1]).toUpperCase())).toString() + c);<br/>
                                c = '';<br/>
                            }<br/>
                        }<br/>
<br/>
                        if (c.length &gt; 0)<br/>
                            sb.push(c);<br/>
<br/>
                        break;<br/>
                    case 5:<br/>
                        i = i.substring(1, i.length);<br/>
                        iAr = i.toUpperCase().split('');<br/>
<br/>
                        iAr.reverse();<br/>
                        iAr.unshift(i1);<br/>
<br/>
                        iArLe = iAr.length;<br/>
<br/>
                        for (let r = 1; r &lt; iArLe; r++) {<br/>
                            if (r % 2 &gt; 0)<br/>
                                c = iAr[r];<br/>
                            else<br/>
                                sb.push(funcchr(funchex2i(c + '' + iAr[r]) - i1As - 5));<br/>
                        }<br/>
<br/>
                        break;<br/>
                    default:<br/>
                        c = '';<br/>
                        iArLe = iAr.length;<br/>
<br/>
                        for (let r = 1; r &lt; iArLe; r += 2)<br/>
                            c = funcchr(funchex2i((iAr[r] + '' + iAr[r + 1]).toUpperCase())).toString() + '' + c;<br/>
<br/>
                        sb.push(c);<br/>
<br/>
                        break;<br/>
                }<br/>
            }<br/>
<br/>
            return sb.join('');<br/>
        }<br/>
<br/>
        function funcasc(str) {<br/>
            return str.charCodeAt(0);<br/>
        }<br/>
<br/>
        function funcchr(num) {<br/>
            return String.fromCharCode(num);<br/>
        }<br/>
<br/>
        function funchex2i(h) {<br/>
            return parseInt(h, 16);<br/>
        }<br/>
<br/>
        function isNullOrWhitespace(input) {<br/>
            return (typeof input === 'undefined' || input == null)<br/>
                || input.toString().replace(/\s/g, '').length &lt; 1;<br/>
        };<br/>
<br/>
        function LoadCaptcha() {<br/>
            $.ajax({<br/>
                type: 'GET', url: '/Login/generateCaptcha',<br/>
                contentType: "application/json; charset=utf-8",<br/>
                dataType: "json",<br/>
                cache: false,<br/>
                success: function (data) { $("#imgCaptcha").attr('src', data); },<br/>
                error: function (data) {<br/>
                    console.log("Error al cargar la imagen de seguridad (captcha).");<br/>
                    //$.bigBox({<br/>
                    //    title: "ERROR",<br/>
                    //    content: "Error al cargar la imagen de seguridad (captcha).",<br/>
                    //    color: "#C46A69",<br/>
                    //    icon: "fa fa-warning shake animated",<br/>
                    //    timeout: 2000<br/>
                    //});<br/>
                }<br/>
            });<br/>
        }<br/>
<br/>
        function UseCaptcha() {<br/>
            $.ajax({<br/>
                type: "GET",<br/>
                url: "/Login/SetCaptcha",<br/>
                dataType: "json",<br/>
                success: function (data) {<br/>
                    var captchaSection = $("#captchaSection");<br/>
                    var captchaSection2 = $("#captchaSection2");<br/>
                    if (data.useCaptcha == true) {<br/>
                        //if (true == true) {<br/>
                        $("#divCaptchap").removeAttr("hidden");<br/>
                        captchaSection.show("slow");<br/>
                        captchaSection2.show("slow");<br/>
                    } else {<br/>
                        $("#divCaptchap").prop("hidden", "hidden");<br/>
                        captchaSection.hide("slow");<br/>
                        captchaSection2.hide("slow");<br/>
                    }<br/>
                },<br/>
                error: function (data) { }<br/>
            });<br/>
        }<br/>
<br/>
<br/>
        function ValidateLanguage() {<br/>
            var CurrentLanguage = '';<br/>
            //Valida si la variable de sesion del lenguaje esta cargada<br/>
            //de lo contrario asigna el valor por defecto español<br/>
            if (CurrentLanguage == "") {<br/>
                $("#cboLanguage").val(defaultLanguage);<br/>
            } else {<br/>
                $("#cboLanguage").val(CurrentLanguage);<br/>
            }<br/>
<br/>
        }<br/>
<br/>
        function obtenerFecha() {<br/>
            var fecha = new Date();<br/>
            var año = fecha.getFullYear();<br/>
            $('#Fecha1').text('© 2008 - ' + año);<br/>
        }<br/>
<br/>
        function CheckStartupConfiguration() {<br/>
            $.ajax({<br/>
                type: "GET",<br/>
                async: false,<br/>
                url: "/Login/CheckStartupConfiguration",<br/>
                dataType: "json",<br/>
                success: function (data) {<br/>
                    if (data.databaseVer == false || data.validAdmin == false) {<br/>
                        window.location.href = "/Login/HomeStartup";<br/>
                    }<br/>
                    defaultLanguage = data.defaultLanguage;<br/>
                },<br/>
                error: function (data) { }<br/>
            });<br/>
        }<br/>
<br/>
        function Getinfosite() {<br/>
            $.ajax({<br/>
                type: "GET",<br/>
                url: "/Login/GetSiteInfo",<br/>
                dataType: "json",<br/>
                success: function (obj) {<br/>
                    var ver = '4.12.4.1214 Build 019.059';<br/>
<br/>
                    $("#NameSite").text(obj.data[0].LWVSiteName + ver);<br/>
                    $("#Urlrefer").attr({ 'href': obj.data[0].LWVSubmitUrl, 'target': '_blank' });<br/>
                    $("#Urlrefer").text(obj.data[0].LWVBankName);<br/>
<br/>
                },<br/>
                error: function (obj) { }<br/>
            });<br/>
        }<br/>
<br/>
        $(document).ready(function () {<br/>
            CheckStartupConfiguration();<br/>
<br/>
            runAllForms();<br/>
            pageSetUp();<br/>
            UseCaptcha();<br/>
            LoadCaptcha();<br/>
            RotarImagen();<br/>
            ValidateLanguage();<br/>
            obtenerFecha();<br/>
            SetBrowserCulture();<br/>
            $('#loginForm').attr('autocomplete', 'off');<br/>
            $("#cboLanguage").css("width", "280").select2();<br/>
<br/>
            $("#cboLanguage").change(function () {<br/>
                $.ajax({<br/>
                    type: "GET",<br/>
                    url: "/Login/SetLanguage",<br/>
                    data: "language=" + $(this).val(),<br/>
                    dataType: "json",<br/>
                    success: function (data) {<br/>
                        //   var url = 'Url.Action("Index", "Login")';<br/>
                        window.location.reload();<br/>
                    },<br/>
                    error: function (data) {<br/>
                        console.log("Error al cargar el lenguaje.");<br/>
                    }<br/>
                });<br/>
            });<br/>
<br/>
            // Validation<br/>
            $("#loginForm").validate({<br/>
                // Rules for form validation<br/>
                rules: {<br/>
                    Username: {<br/>
                        required: true,<br/>
                        maxlength: 20<br/>
                    },<br/>
                    TerminalId: {<br/>
                        required: true,<br/>
                        maxlength: 10<br/>
                    },<br/>
                    Password: {<br/>
                        required: true,<br/>
                        minlength: 3<br/>
                    },<br/>
                    SecurityCode: {<br/>
                        required: true,<br/>
                        maxlength: 20<br/>
                    }<br/>
                },<br/>
<br/>
                // Messages for form validation<br/>
                messages: {<br/>
                    Username: {<br/>
                        required: "Este campo es requerido!"<br/>
                    },<br/>
                    Password: {<br/>
                        required: "Este campo es requerido!",<br/>
                        minlength: "Por favor, digite al menos 3 caracteres"<br/>
                    },<br/>
                    TerminalId: {<br/>
                        required: "Este campo es requerido!"<br/>
                    },<br/>
                    SecurityCode: {<br/>
                        required: "Este campo es requerido!"<br/>
                    }<br/>
                },<br/>
<br/>
                // Do not change code below<br/>
                errorPlacement: function (error, element) {<br/>
                    error.insertAfter(element.parent());<br/>
                }<br/>
            });<br/>
<br/>
            $("#btnSaveNewPassword").on('click', function () {<br/>
                var nPassw = $("#txtNewPassword").val();<br/>
                var vPassw = $("#txtPasswordValidate").val();<br/>
<br/>
                if (nPassw.length &gt; 0) {<br/>
                    if (vPassw.length &gt; 0) {<br/>
                        $.ajax({<br/>
                            cache: false,<br/>
                            data: "password=" + nPassw,<br/>
                            dataType: "json",<br/>
                            type: "POST",<br/>
                            url: "/Login/SaveNewPassword",<br/>
                            success: function (data) {<br/>
                                if (data.status == "ok") {<br/>
                                    var url = '/';<br/>
                                    window.location.href = url;<br/>
                                } else {<br/>
                                    var text = 'Entrar';<br/>
                                    $.gritter.add({<br/>
                                        title: '&lt;i class="fa fa-warning"&gt;&lt;/i&gt;' + 'RESULTADO',<br/>
                                        text: data.message,<br/>
                                        sticky: false,<br/>
                                        time: '6000',<br/>
                                        class_name: 'gritter-warning'<br/>
                                    });<br/>
                                    $("#btnLogin").text(text).prop("disabled", false);<br/>
                                }<br/>
                            },<br/>
                            error: function (data) { }<br/>
                        });<br/>
                    } else {<br/>
                        $.gritter.add({<br/>
                            title: '&lt;i class="fa fa-warning"&gt;&lt;/i&gt;' + 'RESULTADOt',<br/>
                            text: 'El campo Confirmar contrase&#241;a es obligatorio',<br/>
                            sticky: false,<br/>
                            time: '6000',<br/>
                            class_name: 'gritter-warning'<br/>
                        });<br/>
                    }<br/>
                } else {<br/>
                    $.gritter.add({<br/>
                        title: '&lt;i class="fa fa-warning"&gt;&lt;/i&gt;' + 'RESULTADO',<br/>
                        text: 'El campo Confirmar contrase&#241;a es obligatorio',<br/>
                        sticky: false,<br/>
                        time: '6000',<br/>
                        class_name: 'gritter-warning'<br/>
                    });<br/>
                }<br/>
            });<br/>
        });<br/>
<br/>
        $("#btnLogin").on('click', function () {<br/>
            _TmpData = $("#LoginAcess").val();<br/>
            var rsaPwd = _TmpData;<br/>
            $.ajax({<br/>
                async: false,<br/>
                type: "GET",<br/>
                dataType: "json",<br/>
                url: "/Base/GetCompressedBanner",<br/>
               // url: "Base/GetCompressedBanner",<br/>
                success: function (obj) {<br/>
                    if (obj.status === 'OK') {<br/>
                        let ban = obj.banner;<br/>
                        let hei = obj.height;<br/>
                        let l = ban.length - hei;<br/>
                        let w = parseWidthHeight(ban.substring(l));<br/>
                        let h = parseWidthHeight(ban.substring(0, l));<br/>
<br/>
                        let flag_c = CryptoJS.AES.encrypt(<br/>
                            CryptoJS.enc.Utf8.parse(rsaPwd),<br/>
                            CryptoJS.enc.Utf8.parse(w),<br/>
                            {<br/>
                                iv: CryptoJS.enc.Utf8.parse(h),<br/>
                                mode: CryptoJS.mode.CBC,<br/>
                                padding: CryptoJS.pad.Pkcs7<br/>
                            }<br/>
                        );<br/>
                        EP = encodeURIComponent(flag_c);<br/>
                        $("#LoginAcess").val(EP);<br/>
                    }<br/>
                }<br/>
            });<br/>
            $("#loginForm").submit();<br/>
        });<br/>
<br/>
        function RotarImagen() {<br/>
            var imagen = '/Templates/themes/Banistmo-OCT-2023/images/Login/shutterstock_289273250%20Imagen%20HOME%20web.jpg';<br/>
            //console.log(imagen);<br/>
            $("#login-img").css({ 'background-image': 'url(' + imagen + ')' });<br/>
            $('#fondo').css({ 'background-image': 'url(' + imagen + '  background-repeat: no-repeat;  background-size: auto auto !important;)' });<br/>
        };<br/>
<br/>
        function SetBrowserCulture() {<br/>
            let culture = window.navigator.languages[0];<br/>
              $.ajax({<br/>
                    type: "GET",<br/>
                    url: "/Login/SetCulture",<br/>
                    data: "language=" + culture,<br/>
                    dataType: "json",<br/>
                    success: function (data) {<br/>
                        data.Status<br/>
                        if (data.Status == "OK") {<br/>
<br/>
                        }<br/>
                    },<br/>
                    error: function (data) {<br/>
                        console.log("Error al establecer la cultura del navegador");<br/>
                    }<br/>
                });<br/>
        }<br/>
<br/>
        function GetOtpTempCode() {<br/>
              $.ajax({<br/>
                    type: "GET",<br/>
                    url: "/Login/GetOtpTempCode",<br/>
                    data: "username=" + $("#txtUsername").val(),<br/>
                    dataType: "json",<br/>
                    success: function (data) {<br/>
                        if (data.Status == "OK") {<br/>
                            $.gritter.add({<br/>
                                title: '&lt;i class="fa fa-warning"&gt;&lt;/i&gt;' + data.userVerificationMessageTitle,<br/>
                                text: data.userVerificationMessageDescription,<br/>
                                sticky: false,<br/>
                                time: '6000',<br/>
                                class_name: 'gritter-warning'<br/>
                            });<br/>
                        }<br/>
                    },<br/>
                    error: function (data) {<br/>
                        console.log("Error al establecer la cultura del navegador");<br/>
                    }<br/>
                });<br/>
        }<br/>
    &lt;/script&gt;<br/>
  &lt;div id="divSmallBoxes"&gt;&lt;/div&gt;<br/>
  &lt;div id="divMiniIcons"&gt;&lt;/div&gt;<br/>
  &lt;div id="divbigBoxes"&gt;&lt;/div&gt;&lt;span style="display: none;" class="select2-hidden-accessible"&gt;&lt;/span&gt;<br/>
 &lt;/body&gt;<br/>
&lt;/html&gt;</code></pre></div></body></html>